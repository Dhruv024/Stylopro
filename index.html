<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stylo AI</title>
    
    <!-- Tailwind Configuration -->
    <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Fix for Dark Mode: Configure Tailwind to look for 'class' strategy
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #52525b; border-radius: 3px; }
        
        select { -webkit-appearance: none; -moz-appearance: none; appearance: none; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .dark .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .loader {
            border: 2px solid rgba(255,255,255,0.1);
            border-left-color: currentColor;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Smooth transition for theme switching */
        body, .glass-panel, nav, footer, #mobile-menu {
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }

        /* Animations */
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; opacity: 0; }
        .animate-slide-up { animation: slideUp 0.6s ease-out forwards; opacity: 0; transform: translateY(20px); }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-zinc-50 text-zinc-600 dark:bg-[#050505] dark:text-zinc-400 antialiased selection:bg-emerald-500/20 selection:text-emerald-500 flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 border-b border-black/5 dark:border-white/5 bg-white/80 dark:bg-[#050505]/80 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div onclick="navigateTo('home')" class="flex items-center gap-2 cursor-pointer group">
                    <div class="w-8 h-8 bg-black dark:bg-white rounded-lg flex items-center justify-center transition-transform group-hover:scale-95">
                        <iconify-icon icon="lucide:sparkles" class="text-white dark:text-black text-lg" stroke-width="1.5"></iconify-icon>
                    </div>
                    <span class="text-black dark:text-white font-semibold tracking-tight text-lg">Stylo.ai</span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-8 text-sm font-medium">
                    <button onclick="navigateTo('home')" class="text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors">Home</button>
                    <button onclick="navigateTo('how-it-works')" class="text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors">How it works</button>
                    <button onclick="navigateTo('pricing')" class="text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors">Pricing</button>
                    <button onclick="navigateTo('contact')" class="text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors">Contact</button>
                </div>

                <!-- Right Side Actions -->
                <div class="flex items-center gap-3">
                    
                    <!-- Theme Toggle -->
                    <div class="relative">
                        <button onclick="toggleThemeMenu()" class="flex items-center justify-center w-8 h-8 rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-zinc-600 dark:text-zinc-400 transition-colors">
                            <iconify-icon id="theme-icon" icon="lucide:moon" stroke-width="1.5"></iconify-icon>
                        </button>
                        <!-- Theme Dropdown -->
                        <div id="theme-menu" class="hidden absolute right-0 mt-2 w-32 bg-white dark:bg-zinc-900 rounded-lg shadow-xl border border-black/5 dark:border-white/10 overflow-hidden z-50">
                            <button onclick="setTheme('light')" class="w-full text-left px-4 py-2 text-xs font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 flex items-center gap-2">
                                <iconify-icon icon="lucide:sun" stroke-width="1.5"></iconify-icon> Light
                            </button>
                            <button onclick="setTheme('dark')" class="w-full text-left px-4 py-2 text-xs font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 flex items-center gap-2">
                                <iconify-icon icon="lucide:moon" stroke-width="1.5"></iconify-icon> Dark
                            </button>
                            <button onclick="setTheme('system')" class="w-full text-left px-4 py-2 text-xs font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 flex items-center gap-2">
                                <iconify-icon icon="lucide:monitor" stroke-width="1.5"></iconify-icon> System
                            </button>
                        </div>
                    </div>

                    <div class="h-4 w-[1px] bg-zinc-300 dark:bg-zinc-800 mx-1"></div>

                    <!-- Auth State (Logged Out) -->
                    <div id="auth-logged-out" class="hidden md:flex items-center gap-3">
                        <button onclick="openAuthModal('login')" class="text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-black dark:hover:text-white transition-colors">Log in</button>
                        <button onclick="openAuthModal('signup')" class="bg-black dark:bg-white text-white dark:text-black text-sm font-medium px-4 py-2 rounded-full hover:opacity-90 transition-all">Sign up</button>
                    </div>

                    <!-- Auth State (Logged In) -->
                    <div id="auth-logged-in" class="hidden items-center gap-3">
                        <div class="flex flex-col items-end mr-1">
                            <span id="user-display-name" class="text-xs font-semibold text-black dark:text-white leading-tight">User</span>
                            <span id="user-display-email" class="text-[10px] text-zinc-500">user@example.com</span>
                        </div>
                        <button onclick="logout()" class="w-8 h-8 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold text-xs hover:bg-emerald-600 transition-colors" title="Logout">
                            <iconify-icon icon="lucide:log-out" stroke-width="1.5"></iconify-icon>
                        </button>
                    </div>

                    <!-- Mobile Menu Button -->
                    <div class="md:hidden flex items-center ml-2">
                        <button onclick="toggleMobileMenu()" class="text-black dark:text-white p-1 rounded-md active:bg-black/5 dark:active:bg-white/10 transition-colors">
                            <iconify-icon icon="lucide:menu" class="text-2xl" stroke-width="1.5"></iconify-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-black/5 dark:border-white/5 bg-white/95 dark:bg-[#050505]/95 backdrop-blur-xl">
            <div class="px-4 pt-2 pb-6 space-y-1">
                <button onclick="navigateTo('home'); toggleMobileMenu()" class="block w-full text-left px-3 py-3 text-base font-medium text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-white/5 rounded-lg transition-colors">Home</button>
                <button onclick="navigateTo('how-it-works'); toggleMobileMenu()" class="block w-full text-left px-3 py-3 text-base font-medium text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-white/5 rounded-lg transition-colors">How it works</button>
                <button onclick="navigateTo('pricing'); toggleMobileMenu()" class="block w-full text-left px-3 py-3 text-base font-medium text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-white/5 rounded-lg transition-colors">Pricing</button>
                <button onclick="navigateTo('contact'); toggleMobileMenu()" class="block w-full text-left px-3 py-3 text-base font-medium text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-white/5 rounded-lg transition-colors">Contact</button>
                
                <!-- Mobile Auth Buttons -->
                <div id="mobile-auth-section" class="pt-4 flex flex-col gap-3 px-3">
                    <button onclick="openAuthModal('login'); toggleMobileMenu()" class="w-full text-center py-2.5 text-sm font-medium text-zinc-600 dark:text-zinc-300 border border-zinc-200 dark:border-white/10 rounded-lg hover:bg-zinc-50 dark:hover:bg-white/5 transition-colors">Log in</button>
                    <button onclick="openAuthModal('signup'); toggleMobileMenu()" class="w-full text-center py-2.5 text-sm font-medium bg-black dark:bg-white text-white dark:text-black rounded-lg hover:opacity-90 transition-opacity">Sign up</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Content Router -->
    <main id="app-content" class="pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex-grow w-full">
        
        <!-- === HOME PAGE === -->
        <div id="page-home" class="page-section animate-fade-in">
            <!-- Hero Section -->
            <div class="text-center max-w-3xl mx-auto mb-16 pt-8">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-black/5 dark:border-white/10 bg-zinc-100 dark:bg-white/5 text-xs font-medium text-zinc-900 dark:text-white mb-6 animate-slide-up" style="animation-delay: 0ms;">
                    <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"></span>
                    </span>
                    AI V2.0 Now Live
                </div>
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-semibold text-black dark:text-white tracking-tight mb-6 animate-slide-up" style="animation-delay: 100ms;">
                    Redefine your style with <br/> intelligent fashion.
                </h1>
                <p class="text-lg text-zinc-600 dark:text-zinc-500 max-w-xl mx-auto leading-relaxed animate-slide-up" style="animation-delay: 200ms;">
                    Upload a photo, choose the occasion, and let our AI stylist generate the perfect outfit tailored to you in seconds.
                </p>
            </div>

            <!-- The Tool Interface -->
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 animate-slide-up mb-24" style="animation-delay: 300ms;">
                
                <!-- Sidebar / Controls (Left) -->
                <div class="lg:col-span-4 space-y-4">
                    <div class="glass-panel rounded-2xl p-6 h-full flex flex-col justify-between shadow-sm">
                        <div class="space-y-6">
                            <!-- Step 1: Gender -->
                            <div>
                                <label class="block text-xs font-semibold text-zinc-500 dark:text-zinc-400 mb-2 uppercase tracking-wide">1. Select Gender</label>
                                <div class="grid grid-cols-2 gap-2 p-1 bg-zinc-100 dark:bg-zinc-900/50 rounded-lg border border-black/5 dark:border-white/5">
                                    <button onclick="selectGender('male')" id="btn-male" class="flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all bg-black dark:bg-zinc-800 text-white shadow-sm ring-1 ring-black/5 dark:ring-white/10">
                                        <iconify-icon icon="lucide:user" stroke-width="1.5"></iconify-icon> Male
                                    </button>
                                    <button onclick="selectGender('female')" id="btn-female" class="flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300">
                                        <iconify-icon icon="lucide:user-circle" stroke-width="1.5"></iconify-icon> Female
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2: Occasion -->
                            <div>
                                <label class="block text-xs font-semibold text-zinc-500 dark:text-zinc-400 mb-2 uppercase tracking-wide">2. Occasion</label>
                                <div class="relative">
                                    <select id="occasion-select" class="w-full bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-white/10 text-black dark:text-white text-sm rounded-lg focus:ring-1 focus:ring-black/20 dark:focus:ring-white/30 focus:border-black/20 dark:focus:border-white/30 block w-full p-3 transition-colors outline-none cursor-pointer">
                                        <option value="casual">Casual Day Out</option>
                                        <option value="business">Business Professional</option>
                                        <option value="party">Evening Party / Club</option>
                                        <option value="gym">Gym / Athleisure</option>
                                        <option value="winter">Winter / Cold Weather</option>
                                        <option value="wedding">Wedding Guest</option>
                                        <option value="date">Date Night</option>
                                        <option value="summer">Summer Beach</option>
                                        <option value="festival">Music Festival</option>
                                        <option value="airport">Airport Comfort</option>
                                    </select>
                                    <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-zinc-500">
                                        <iconify-icon icon="lucide:chevron-down" stroke-width="1.5"></iconify-icon>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Upload -->
                            <div>
                                <label class="block text-xs font-semibold text-zinc-500 dark:text-zinc-400 mb-2 uppercase tracking-wide">3. Your Photo</label>
                                <div id="dropzone" class="relative group cursor-pointer">
                                    <input type="file" id="file-upload" class="absolute inset-0 w-full h-full opacity-0 z-10 cursor-pointer" accept="image/*">
                                    <div class="border border-dashed border-zinc-300 dark:border-white/15 rounded-xl p-8 bg-zinc-50/50 dark:bg-zinc-900/20 group-hover:bg-zinc-100 dark:group-hover:bg-zinc-900/40 group-hover:border-zinc-400 dark:group-hover:border-white/30 transition-all text-center">
                                        <div id="upload-placeholder">
                                            <div class="w-10 h-10 bg-zinc-200 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                                                <iconify-icon icon="lucide:upload-cloud" class="text-zinc-500 dark:text-zinc-400 text-lg" stroke-width="1.5"></iconify-icon>
                                            </div>
                                            <p class="text-sm text-zinc-700 dark:text-zinc-300 font-medium">Click to upload</p>
                                            <p class="text-xs text-zinc-500 mt-1">JPG, PNG up to 5MB</p>
                                        </div>
                                        <div id="upload-success" class="hidden flex items-center justify-center gap-2">
                                            <iconify-icon icon="lucide:check-circle" class="text-emerald-500" stroke-width="1.5"></iconify-icon>
                                            <span class="text-sm text-black dark:text-white" id="filename">photo.jpg</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Generate Button -->
                        <div class="mt-8">
                            <button onclick="generateOutfit()" id="generate-btn" class="w-full group relative overflow-hidden rounded-lg bg-black dark:bg-white p-3 text-sm font-medium text-white dark:text-black transition-all hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                                <span class="relative z-10 flex items-center justify-center gap-2">
                                    <iconify-icon icon="lucide:wand-2" class="group-hover:rotate-12 transition-transform" stroke-width="1.5"></iconify-icon>
                                    Generate Outfit
                                </span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Preview / Result Area (Right) -->
                <div class="lg:col-span-8 min-h-[700px] lg:h-auto">
                    <div class="glass-panel rounded-2xl h-full relative overflow-hidden flex items-center justify-center group shadow-sm">
                        
                        <!-- Background Grid Pattern -->
                        <div class="absolute inset-0 z-0 opacity-[0.03] dark:opacity-20 pointer-events-none" style="background-image: radial-gradient(currentColor 1px, transparent 1px); background-size: 24px 24px;"></div>

                        <!-- Default Empty State -->
                        <div id="empty-state" class="text-center z-10">
                            <div class="w-16 h-16 bg-zinc-100 dark:bg-white/5 rounded-2xl border border-black/5 dark:border-white/10 flex items-center justify-center mx-auto mb-4 backdrop-blur-sm shadow-xl">
                                <iconify-icon icon="lucide:image" class="text-zinc-400 dark:text-zinc-500 text-3xl" stroke-width="1.5"></iconify-icon>
                            </div>
                            <p class="text-zinc-500 dark:text-zinc-400 font-medium">No image generated yet</p>
                            <p class="text-zinc-400 dark:text-zinc-600 text-sm mt-1">Upload a photo to get started</p>
                        </div>

                        <!-- User Image Preview -->
                        <img id="user-preview" src="" alt="User Upload" class="hidden absolute inset-0 w-full h-full object-cover z-10 opacity-30 blur-sm scale-105 transition-all duration-700">

                        <!-- Result Image -->
                        <div id="result-container" class="hidden absolute inset-0 z-20 w-full h-full bg-zinc-900">
                             <!-- Image -->
                            <img id="result-image" src="" class="w-full h-full object-cover opacity-0 transition-opacity duration-1000">
                            
                            <!-- Actions Overlay -->
                            <div class="absolute bottom-6 right-6 flex gap-2">
                                <button class="bg-black/50 hover:bg-black/70 backdrop-blur-md text-white border border-white/10 p-2.5 rounded-lg transition-colors">
                                    <iconify-icon icon="lucide:download" stroke-width="1.5"></iconify-icon>
                                </button>
                                <button class="bg-black/50 hover:bg-black/70 backdrop-blur-md text-white border border-white/10 p-2.5 rounded-lg transition-colors">
                                    <iconify-icon icon="lucide:share-2" stroke-width="1.5"></iconify-icon>
                                </button>
                                <button class="bg-white text-black p-2.5 px-4 rounded-lg font-medium text-sm hover:bg-zinc-200 transition-colors">
                                    Shop Look
                                </button>
                            </div>
                            
                            <!-- AI Badge -->
                            <div class="absolute top-6 left-6 flex items-center gap-2 bg-black/40 backdrop-blur-md border border-white/10 px-3 py-1.5 rounded-full">
                                <iconify-icon icon="lucide:sparkles" class="text-emerald-400 text-xs"></iconify-icon>
                                <span class="text-xs text-white font-medium">AI Generated Style</span>
                            </div>
                        </div>

                        <!-- Loading Overlay -->
                        <div id="loader-overlay" class="hidden absolute inset-0 z-30 bg-white/80 dark:bg-black/60 backdrop-blur-md flex flex-col items-center justify-center">
                            <div class="loader mb-4 text-black dark:text-white"></div>
                            <p class="text-zinc-600 dark:text-zinc-300 text-sm font-medium animate-pulse">Analyzing style...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trusted By Section -->
            <div class="py-12 border-t border-black/5 dark:border-white/5 border-b border-black/5 dark:border-white/5 bg-white/50 dark:bg-white/5 rounded-3xl mb-24">
                <p class="text-center text-[10px] uppercase font-semibold tracking-widest text-zinc-500 mb-8">Trusted by Fashion Tech Leaders</p>
                <div class="flex flex-wrap justify-center items-center gap-8 md:gap-16 opacity-70 grayscale transition-all duration-500 hover:grayscale-0 hover:opacity-100">
                    <div class="flex items-center gap-2">
                        <iconify-icon icon="simple-icons:vercel" class="text-xl dark:text-white"></iconify-icon>
                        <span class="font-semibold text-lg text-black dark:text-white tracking-tight">VERCEL</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <iconify-icon icon="simple-icons:linear" class="text-xl dark:text-white"></iconify-icon>
                        <span class="font-semibold text-lg text-black dark:text-white tracking-tight">LINEAR</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <iconify-icon icon="simple-icons:stripe" class="text-xl dark:text-white"></iconify-icon>
                        <span class="font-semibold text-lg text-black dark:text-white tracking-tight">STRIPE</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <iconify-icon icon="simple-icons:tailwindcss" class="text-xl dark:text-white"></iconify-icon>
                        <span class="font-semibold text-lg text-black dark:text-white tracking-tight">TAILWIND</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <iconify-icon icon="simple-icons:framer" class="text-xl dark:text-white"></iconify-icon>
                        <span class="font-semibold text-lg text-black dark:text-white tracking-tight">FRAMER</span>
                    </div>
                </div>
            </div>

            <!-- Community Showcase Section (Filled with images) -->
            <div class="mb-24">
                <div class="flex items-center justify-between mb-8">
                   <h2 class="text-2xl font-semibold text-black dark:text-white tracking-tight">Community Showcase</h2>
                   <button onclick="navigateTo('gallery')" class="text-emerald-500 hover:text-emerald-600 text-sm font-medium flex items-center gap-1 transition-colors group">
                       View Gallery <iconify-icon icon="lucide:arrow-right" stroke-width="2" class="group-hover:translate-x-1 transition-transform"></iconify-icon>
                   </button>
                </div>
                <!-- Showcase Grid -->
                <div class="grid grid-cols-2 md:grid-cols-4 grid-rows-2 gap-4 h-[600px] md:h-[500px]">
                    
                    <!-- Left Tall Image -->
                    <div class="col-start-1 row-start-1 row-span-2 relative group overflow-hidden rounded-2xl">
                        <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" alt="Fashion 1" class="object-cover w-full h-full transition-transform duration-700 group-hover:scale-105">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    
                    <!-- Middle Top Left -->
                    <div class="col-start-2 row-start-1 relative group overflow-hidden rounded-2xl hidden md:block">
                         <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?q=80&w=2020&auto=format&fit=crop" alt="Fashion 2" class="object-cover w-full h-full transition-transform duration-700 group-hover:scale-105">
                    </div>
                    
                    <!-- Middle Top Right -->
                    <div class="col-start-3 row-start-1 relative group overflow-hidden rounded-2xl hidden md:block">
                         <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" alt="Fashion 3" class="object-cover w-full h-full transition-transform duration-700 group-hover:scale-105">
                    </div>
                    
                     <!-- Middle Bottom (Wide) -->
                    <div class="col-start-2 row-start-1 md:col-start-2 md:row-start-2 md:col-span-2 relative group overflow-hidden rounded-2xl">
                         <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1974&auto=format&fit=crop" alt="Fashion 4" class="object-cover w-full h-full transition-transform duration-700 group-hover:scale-105">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    
                    <!-- Right Tall Image -->
                    <div class="col-start-2 md:col-start-4 row-start-2 md:row-start-1 md:row-span-2 relative group overflow-hidden rounded-2xl">
                        <img src="https://images.unsplash.com/photo-1539109136881-3be0616acf4b?q=80&w=1974&auto=format&fit=crop" alt="Fashion 5" class="object-cover w-full h-full transition-transform duration-700 group-hover:scale-105">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                </div>
            </div>

            <!-- Home Pricing Section -->
            <div class="max-w-6xl mx-auto pb-12">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-semibold text-black dark:text-white tracking-tight mb-4">Simple, transparent pricing</h2>
                    <p class="text-zinc-500">Choose the plan that fits your wardrobe needs.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Free Plan -->
                    <div class="glass-panel p-8 rounded-2xl flex flex-col">
                        <div class="mb-4">
                            <span class="text-zinc-500 font-medium">Starter</span>
                            <div class="flex items-baseline gap-1 mt-2">
                                <span class="text-4xl font-semibold text-black dark:text-white">$0</span>
                                <span class="text-zinc-500">/mo</span>
                            </div>
                        </div>
                        <ul class="space-y-3 mb-8 flex-1">
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 5 Generations per day
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Standard SD Quality
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Ad-supported
                            </li>
                        </ul>
                        <button class="w-full py-2 rounded-lg border border-black/10 dark:border-white/10 text-black dark:text-white text-sm font-medium hover:bg-black/5 dark:hover:bg-white/5 transition-colors">Get Started</button>
                    </div>

                    <!-- Enthusiast Plan ($2.99) -->
                    <div class="glass-panel p-8 rounded-2xl flex flex-col relative border-emerald-500/30">
                        <div class="absolute top-0 inset-x-0 h-1 bg-gradient-to-r from-emerald-400 to-teal-500"></div>
                        <div class="mb-4">
                            <span class="text-emerald-600 dark:text-emerald-400 font-medium">Enthusiast</span>
                            <div class="flex items-baseline gap-1 mt-2">
                                <span class="text-4xl font-semibold text-black dark:text-white">$2.99</span>
                                <span class="text-zinc-500">/mo</span>
                            </div>
                        </div>
                        <ul class="space-y-3 mb-8 flex-1">
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 15 Generations per day
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 1080p HD Quality
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> No Watermarks
                            </li>
                        </ul>
                        <button class="w-full py-2 rounded-lg bg-emerald-600 text-white text-sm font-medium hover:bg-emerald-700 transition-colors">Upgrade</button>
                    </div>

                    <!-- Pro Plan ($9.99) -->
                    <div class="glass-panel p-8 rounded-2xl flex flex-col relative overflow-hidden">
                        <div class="absolute top-0 right-0 bg-black dark:bg-white text-white dark:text-black text-[10px] font-bold px-3 py-1 rounded-bl-lg uppercase tracking-wider">Best Value</div>
                        <div class="mb-4">
                            <span class="text-zinc-500 font-medium">Pro Stylist</span>
                            <div class="flex items-baseline gap-1 mt-2">
                                <span class="text-4xl font-semibold text-black dark:text-white">$9.99</span>
                                <span class="text-zinc-500">/mo</span>
                            </div>
                        </div>
                        <ul class="space-y-3 mb-8 flex-1">
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Unlimited Generations
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 4K Ultra HD Rendering
                            </li>
                            <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                                <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Virtual Closet Access
                            </li>
                        </ul>
                        <button class="w-full py-2 rounded-lg bg-black dark:bg-white text-white dark:text-black text-sm font-medium hover:opacity-90 transition-colors">Go Pro</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- === GALLERY PAGE === -->
        <div id="page-gallery" class="page-section hidden animate-fade-in pt-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-semibold text-black dark:text-white tracking-tight mb-4">Community Gallery</h2>
                <p class="text-zinc-500">Discover looks generated by our community members.</p>
            </div>

            <!-- Masonry Grid -->
            <div class="columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4">
                
                <!-- Image 1 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?q=80&w=2020&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                        <iconify-icon icon="lucide:heart" class="text-white text-2xl" stroke-width="1.5"></iconify-icon>
                    </div>
                </div>

                <!-- Image 2 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 3 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1503342394128-c104d54dba01?q=80&w=1974&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>
                
                 <!-- Image 4 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                 <!-- Image 5 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?q=80&w=1974&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 6 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 7 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1581044777550-4cfa60707c03?q=80&w=1972&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 8 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1496747611176-843222e1e57c?q=80&w=2073&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 9 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/30104e3c-5eea-4b93-93e9-5313698a7156_1600w.webp" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 10 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1485968579580-b6d095142e6e?q=80&w=1972&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 11 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 12 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1500917293891-ef795e70e1f6?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 13 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1469334031218-e382a71b716b?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                 <!-- Image 14 -->
                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?q=80&w=1990&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 15 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1589310243389-96a5483213a8?q=80&w=1972&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                 <!-- Image 16 -->
                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 17 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1974&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 18 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1543087903-1ac2ec7aa8c5?q=80&w=2098&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                 <!-- Image 19 -->
                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 20 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1520006403909-838d6b92c22e?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 21 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/c543a9e1-f226-4ced-80b0-feb8445a75b9_1600w.jpg" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 22 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/5bab247f-35d9-400d-a82b-fd87cfe913d2_1600w.webp" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 23 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1484515991647-c5760fcecfc7?q=80&w=1949&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                <!-- Image 24 -->
                <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/30104e3c-5eea-4b93-93e9-5313698a7156_1600w.webp" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

                 <!-- Image 25 -->
                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1479064555552-3ef4979f8908?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>
                
                 <!-- Image 26 -->
                 <div class="break-inside-avoid relative group overflow-hidden rounded-xl">
                    <img src="https://images.unsplash.com/photo-1502323777036-f29e3972d82f?q=80&w=2070&auto=format&fit=crop" class="w-full object-cover transition-transform duration-500 group-hover:scale-110">
                </div>

            </div>
            
            <div class="mt-12 text-center">
                <button class="bg-black dark:bg-white text-white dark:text-black font-medium px-8 py-3 rounded-full hover:opacity-90 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1">Load More</button>
            </div>
        </div>

        <!-- === HOW IT WORKS PAGE === -->
        <div id="page-how-it-works" class="page-section hidden animate-fade-in max-w-4xl mx-auto pt-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-semibold text-black dark:text-white mb-4">Deep Dive: How Stylo Works</h2>
                <p class="text-zinc-500">Technical breakdown of our pipeline.</p>
            </div>
            
            <div class="space-y-12">
                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-1/2 glass-panel p-2 rounded-2xl h-64 flex items-center justify-center overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1555421689-d68471e189f2?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover rounded-xl opacity-90 hover:scale-105 transition-transform duration-500" alt="Scanning face">
                    </div>
                    <div class="w-full md:w-1/2">
                        <span class="text-emerald-500 font-bold text-sm tracking-wide uppercase">Step 01</span>
                        <h3 class="text-2xl font-medium text-black dark:text-white mt-2 mb-3">Analysis & Extraction</h3>
                        <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">Our computer vision algorithms scan your uploaded photo to identify body type, skin undertones, and existing hair/eye color profiles to build a unique style DNA.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row-reverse gap-8 items-center">
                    <div class="w-full md:w-1/2 glass-panel p-2 rounded-2xl h-64 flex items-center justify-center overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1558769132-cb1aea458c5e?q=80&w=1974&auto=format&fit=crop" class="w-full h-full object-cover rounded-xl opacity-90 hover:scale-105 transition-transform duration-500" alt="Digital fashion">
                    </div>
                    <div class="w-full md:w-1/2">
                        <span class="text-emerald-500 font-bold text-sm tracking-wide uppercase">Step 02</span>
                        <h3 class="text-2xl font-medium text-black dark:text-white mt-2 mb-3">Generative Styling</h3>
                        <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">Using the selected occasion, we generate photorealistic clothing items mapped perfectly to your pose. We reference millions of trend data points to ensure relevance.</p>
                    </div>
                </div>

                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-1/2 glass-panel p-2 rounded-2xl h-64 flex items-center justify-center overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover rounded-xl opacity-90 hover:scale-105 transition-transform duration-500" alt="Shopping bag">
                    </div>
                    <div class="w-full md:w-1/2">
                        <span class="text-emerald-500 font-bold text-sm tracking-wide uppercase">Step 03</span>
                        <h3 class="text-2xl font-medium text-black dark:text-white mt-2 mb-3">Shop the Look</h3>
                        <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">Don't just visualize it. We use visual search to find the exact (or closest matching) items from partner stores so you can purchase the entire outfit instantly.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- === PRICING PAGE === -->
        <div id="page-pricing" class="page-section hidden animate-fade-in pt-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-semibold text-black dark:text-white tracking-tight mb-4">Pricing Plans</h2>
                <p class="text-zinc-500">Flexible options for everyone.</p>
            </div>
            <!-- Duplicate content from home for simplicity -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
                 <!-- Free -->
                  <div class="glass-panel p-8 rounded-2xl flex flex-col">
                    <div class="mb-4">
                        <span class="text-zinc-500 font-medium">Starter</span>
                        <div class="flex items-baseline gap-1 mt-2">
                            <span class="text-4xl font-semibold text-black dark:text-white">$0</span>
                            <span class="text-zinc-500">/mo</span>
                        </div>
                    </div>
                    <ul class="space-y-3 mb-8 flex-1">
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 5 Generations per day
                        </li>
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Standard SD Quality
                        </li>
                    </ul>
                    <button class="w-full py-2 rounded-lg border border-black/10 dark:border-white/10 text-black dark:text-white text-sm font-medium hover:bg-black/5 dark:hover:bg-white/5 transition-colors">Get Started</button>
                </div>
                <!-- Enthusiast -->
                <div class="glass-panel p-8 rounded-2xl flex flex-col relative border-emerald-500/30">
                    <div class="absolute top-0 inset-x-0 h-1 bg-gradient-to-r from-emerald-400 to-teal-500"></div>
                    <div class="mb-4">
                        <span class="text-emerald-600 dark:text-emerald-400 font-medium">Enthusiast</span>
                        <div class="flex items-baseline gap-1 mt-2">
                            <span class="text-4xl font-semibold text-black dark:text-white">$2.99</span>
                            <span class="text-zinc-500">/mo</span>
                        </div>
                    </div>
                    <ul class="space-y-3 mb-8 flex-1">
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 15 Generations per day
                        </li>
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 1080p HD Quality
                        </li>
                    </ul>
                    <button class="w-full py-2 rounded-lg bg-emerald-600 text-white text-sm font-medium hover:bg-emerald-700 transition-colors">Upgrade</button>
                </div>
                <!-- Pro -->
                <div class="glass-panel p-8 rounded-2xl flex flex-col relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-black dark:bg-white text-white dark:text-black text-[10px] font-bold px-3 py-1 rounded-bl-lg uppercase tracking-wider">Best Value</div>
                    <div class="mb-4">
                        <span class="text-zinc-500 font-medium">Pro Stylist</span>
                        <div class="flex items-baseline gap-1 mt-2">
                            <span class="text-4xl font-semibold text-black dark:text-white">$9.99</span>
                            <span class="text-zinc-500">/mo</span>
                        </div>
                    </div>
                    <ul class="space-y-3 mb-8 flex-1">
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> Unlimited Generations
                        </li>
                        <li class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-300">
                            <iconify-icon icon="lucide:check" class="text-emerald-500" stroke-width="1.5"></iconify-icon> 4K Ultra HD Rendering
                        </li>
                    </ul>
                    <button class="w-full py-2 rounded-lg bg-black dark:bg-white text-white dark:text-black text-sm font-medium hover:opacity-90 transition-colors">Go Pro</button>
                </div>
             </div>
        </div>

        <!-- === CONTACT PAGE === -->
        <div id="page-contact" class="page-section hidden animate-fade-in max-w-xl mx-auto pt-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-semibold text-black dark:text-white mb-2">Get in touch</h2>
                <p class="text-zinc-500">We'd love to hear from you. Send us a message.</p>
            </div>
            
            <div class="glass-panel rounded-2xl p-8">
                <form onsubmit="event.preventDefault(); alert('Message sent!');" class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-1">
                            <label class="text-xs font-medium text-zinc-500">First Name</label>
                            <input type="text" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm focus:ring-1 focus:ring-emerald-500 outline-none transition-colors text-black dark:text-white" placeholder="Jane">
                        </div>
                        <div class="space-y-1">
                            <label class="text-xs font-medium text-zinc-500">Last Name</label>
                            <input type="text" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm focus:ring-1 focus:ring-emerald-500 outline-none transition-colors text-black dark:text-white" placeholder="Doe">
                        </div>
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-medium text-zinc-500">Email</label>
                        <input type="email" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm focus:ring-1 focus:ring-emerald-500 outline-none transition-colors text-black dark:text-white" placeholder="jane@example.com">
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-medium text-zinc-500">Message</label>
                        <textarea rows="4" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2 text-sm focus:ring-1 focus:ring-emerald-500 outline-none transition-colors text-black dark:text-white" placeholder="How can we help?"></textarea>
                    </div>
                    <button class="w-full bg-black dark:bg-white text-white dark:text-black font-medium py-2.5 rounded-lg hover:opacity-90 transition-opacity">Send Message</button>
                </form>
            </div>
        </div>

        <!-- === ABOUT PAGE === -->
        <div id="page-about" class="page-section hidden animate-fade-in max-w-4xl mx-auto pt-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-semibold text-black dark:text-white mb-4">Reimagining Fashion with AI</h2>
                <p class="text-zinc-500 dark:text-zinc-400 max-w-2xl mx-auto">We are a diverse team of researchers, designers, and engineers obsessed with the intersection of style and technology.</p>
            </div>
            
            <div class="glass-panel p-8 rounded-2xl mb-12">
                <h3 class="text-xl font-medium text-black dark:text-white mb-4">Our Mission</h3>
                <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed mb-4">
                    At Stylo.ai, we believe fashion should be personal, accessible, and sustainable. By leveraging state-of-the-art Generative Adversarial Networks (GANs), we allow users to visualize outfits on their own digital twin before making a purchase. This not only enhances confidence but significantly reduces the carbon footprint associated with returns.
                </p>
                <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">
                    Founded in 2023, we have processed over 1 million generations and partnered with 500+ global brands.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center p-6 bg-white dark:bg-white/5 rounded-2xl border border-zinc-200 dark:border-white/10">
                    <h4 class="text-3xl font-bold text-black dark:text-white mb-1">1M+</h4>
                    <p class="text-xs text-zinc-500 uppercase tracking-widest">Outfits Generated</p>
                </div>
                <div class="text-center p-6 bg-white dark:bg-white/5 rounded-2xl border border-zinc-200 dark:border-white/10">
                    <h4 class="text-3xl font-bold text-black dark:text-white mb-1">500+</h4>
                    <p class="text-xs text-zinc-500 uppercase tracking-widest">Brand Partners</p>
                </div>
                <div class="text-center p-6 bg-white dark:bg-white/5 rounded-2xl border border-zinc-200 dark:border-white/10">
                    <h4 class="text-3xl font-bold text-black dark:text-white mb-1">0.2s</h4>
                    <p class="text-xs text-zinc-500 uppercase tracking-widest">Inference Time</p>
                </div>
            </div>
        </div>

        <!-- === BLOG PAGE === -->
        <div id="page-blog" class="page-section hidden animate-fade-in pt-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-semibold text-black dark:text-white mb-4">Latest Insights</h2>
                <p class="text-zinc-500">Thoughts on AI, sustainability, and digital fashion.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Article 1 -->
                <div class="group cursor-pointer">
                    <div class="overflow-hidden rounded-2xl mb-4 border border-black/5 dark:border-white/10">
                        <img src="https://images.unsplash.com/photo-1532453288672-3a27e9be9efd?q=80&w=1964&auto=format&fit=crop" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105" alt="Blog 1">
                    </div>
                    <span class="text-emerald-500 text-xs font-semibold tracking-wider uppercase">Technology</span>
                    <h3 class="text-lg font-medium text-black dark:text-white mt-2 group-hover:underline">The Future of Virtual Fitting Rooms</h3>
                    <p class="text-sm text-zinc-500 mt-2 line-clamp-2">How computer vision is solving the sizing problem in e-commerce once and for all.</p>
                </div>
                
                <!-- Article 2 -->
                <div class="group cursor-pointer">
                    <div class="overflow-hidden rounded-2xl mb-4 border border-black/5 dark:border-white/10">
                        <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?q=80&w=2071&auto=format&fit=crop" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105" alt="Blog 2">
                    </div>
                    <span class="text-emerald-500 text-xs font-semibold tracking-wider uppercase">Style</span>
                    <h3 class="text-lg font-medium text-black dark:text-white mt-2 group-hover:underline">Color Theory in the Age of AI</h3>
                    <p class="text-sm text-zinc-500 mt-2 line-clamp-2">Why algorithms might be better at matching colors than the human eye.</p>
                </div>

                <!-- Article 3 -->
                <div class="group cursor-pointer">
                    <div class="overflow-hidden rounded-2xl mb-4 border border-black/5 dark:border-white/10">
                        <img src="https://images.unsplash.com/photo-1473187983305-f615310e7daa?q=80&w=2070&auto=format&fit=crop" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105" alt="Blog 3">
                    </div>
                    <span class="text-emerald-500 text-xs font-semibold tracking-wider uppercase">Company</span>
                    <h3 class="text-lg font-medium text-black dark:text-white mt-2 group-hover:underline">Introducing Stylo API v2</h3>
                    <p class="text-sm text-zinc-500 mt-2 line-clamp-2">Faster generation times, higher resolution, and new fabric physics engine.</p>
                </div>
            </div>
        </div>

        <!-- === CAREERS PAGE === -->
        <div id="page-careers" class="page-section hidden animate-fade-in max-w-4xl mx-auto pt-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-semibold text-black dark:text-white mb-4">Join the Team</h2>
                <p class="text-zinc-500">Help us build the wardrobe of tomorrow.</p>
            </div>
            
            <div class="space-y-4">
                <!-- Job 1 -->
                <div class="glass-panel p-6 rounded-xl flex items-center justify-between group hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors">
                    <div>
                        <h3 class="text-base font-medium text-black dark:text-white">Senior Machine Learning Engineer</h3>
                        <p class="text-sm text-zinc-500 mt-1">Remote  Engineering  Full Time</p>
                    </div>
                    <button class="text-sm font-medium px-4 py-2 rounded-lg bg-black dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity">Apply</button>
                </div>

                <!-- Job 2 -->
                <div class="glass-panel p-6 rounded-xl flex items-center justify-between group hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors">
                    <div>
                        <h3 class="text-base font-medium text-black dark:text-white">Product Designer</h3>
                        <p class="text-sm text-zinc-500 mt-1">New York, NY  Design  Full Time</p>
                    </div>
                    <button class="text-sm font-medium px-4 py-2 rounded-lg bg-black dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity">Apply</button>
                </div>

                 <!-- Job 3 -->
                 <div class="glass-panel p-6 rounded-xl flex items-center justify-between group hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors">
                    <div>
                        <h3 class="text-base font-medium text-black dark:text-white">Developer Advocate</h3>
                        <p class="text-sm text-zinc-500 mt-1">London, UK  Marketing  Full Time</p>
                    </div>
                    <button class="text-sm font-medium px-4 py-2 rounded-lg bg-black dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity">Apply</button>
                </div>
            </div>
        </div>

        <!-- === PRIVACY PAGE === -->
        <div id="page-privacy" class="page-section hidden animate-fade-in max-w-2xl mx-auto pt-8">
            <h2 class="text-3xl font-semibold text-black dark:text-white mb-8">Privacy Policy</h2>
            <div class="prose prose-sm dark:prose-invert text-zinc-600 dark:text-zinc-400 space-y-6">
                <p>Last updated: October 2023</p>
                <p>At Stylo.ai, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website.</p>
                
                <h3 class="text-lg font-medium text-black dark:text-white mt-6 mb-2">1. Collection of your information</h3>
                <p>We may collect information about you in a variety of ways. The information we may collect on the Site includes:</p>
                <ul class="list-disc pl-5 space-y-1">
                    <li>Personal Data: Name, email address, and demographic information.</li>
                    <li>Biometric Data: Facial features and body measurements extracted from uploaded photos for the sole purpose of outfit generation.</li>
                </ul>

                <h3 class="text-lg font-medium text-black dark:text-white mt-6 mb-2">2. Use of your information</h3>
                <p>We use the information we collect to operate, maintain, and improve our services. Specifically, to generate personalized fashion images and improve our machine learning models.</p>
            </div>
        </div>

        <!-- === TERMS PAGE === -->
        <div id="page-terms" class="page-section hidden animate-fade-in max-w-2xl mx-auto pt-8">
            <h2 class="text-3xl font-semibold text-black dark:text-white mb-8">Terms of Service</h2>
            <div class="prose prose-sm dark:prose-invert text-zinc-600 dark:text-zinc-400 space-y-6">
                <p>Last updated: October 2023</p>
                <p>Please read these Terms of Service carefully before using the Stylo.ai website operated by Stylo AI Inc.</p>
                
                <h3 class="text-lg font-medium text-black dark:text-white mt-6 mb-2">1. Conditions of Use</h3>
                <p>By using this website, you certify that you have read and reviewed this Agreement and that you agree to comply with its terms. If you do not want to be bound by the terms of this Agreement, you are advised to leave the website accordingly.</p>
                
                <h3 class="text-lg font-medium text-black dark:text-white mt-6 mb-2">2. User Accounts</h3>
                <p>As a user of this website, you may be asked to register with us and provide private information. You are responsible for ensuring the accuracy of this information, and you are responsible for maintaining the safety and security of your identifying information.</p>

                <h3 class="text-lg font-medium text-black dark:text-white mt-6 mb-2">3. Intellectual Property</h3>
                <p>You agree that all materials, products, and services provided on this website are the property of Stylo AI Inc, its affiliates, directors, officers, employees, agents, suppliers, or licensors including all copyrights, trade secrets, trademarks, patents, and other intellectual property.</p>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="border-t border-black/5 dark:border-white/5 bg-white dark:bg-[#020202] py-12 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div class="space-y-4">
                <div class="flex items-center gap-2">
                    <iconify-icon icon="lucide:sparkles" class="text-black dark:text-white" stroke-width="1.5"></iconify-icon>
                    <span class="text-black dark:text-white font-medium tracking-tight">Stylo.ai</span>
                </div>
                <p class="text-xs text-zinc-500">
                     2023 Stylo AI Inc.<br>All rights reserved.
                </p>
                <div class="flex gap-4">
                    <a href="#" class="text-zinc-400 hover:text-black dark:hover:text-white"><iconify-icon icon="lucide:twitter" stroke-width="1.5"></iconify-icon></a>
                    <a href="#" class="text-zinc-400 hover:text-black dark:hover:text-white"><iconify-icon icon="lucide:instagram" stroke-width="1.5"></iconify-icon></a>
                    <a href="#" class="text-zinc-400 hover:text-black dark:hover:text-white"><iconify-icon icon="lucide:github" stroke-width="1.5"></iconify-icon></a>
                </div>
            </div>
            <div>
                <h4 class="text-black dark:text-white text-sm font-medium mb-4">Product</h4>
                <ul class="space-y-2 text-xs text-zinc-500">
                    <li><button onclick="navigateTo('how-it-works')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Features</button></li>
                    <li><button onclick="navigateTo('pricing')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Pricing</button></li>
                    <li><button onclick="navigateTo('gallery')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Gallery</button></li>
                </ul>
            </div>
            <div>
                <h4 class="text-black dark:text-white text-sm font-medium mb-4">Company</h4>
                <ul class="space-y-2 text-xs text-zinc-500">
                    <li><button onclick="navigateTo('about')" class="hover:text-zinc-800 dark:hover:text-zinc-300">About</button></li>
                    <li><button onclick="navigateTo('blog')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Blog</button></li>
                    <li><button onclick="navigateTo('careers')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Careers</button></li>
                </ul>
            </div>
            <div>
                <h4 class="text-black dark:text-white text-sm font-medium mb-4">Legal</h4>
                <ul class="space-y-2 text-xs text-zinc-500">
                    <li><button onclick="navigateTo('privacy')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Privacy</button></li>
                    <li><button onclick="navigateTo('terms')" class="hover:text-zinc-800 dark:hover:text-zinc-300">Terms</button></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div id="auth-modal" class="fixed inset-0 z-[100] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeAuthModal()"></div>
        
        <!-- Modal Content -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md p-4">
            <div class="bg-white dark:bg-[#09090b] rounded-2xl border border-black/5 dark:border-white/10 shadow-2xl overflow-hidden p-8 relative">
                <button onclick="closeAuthModal()" class="absolute top-4 right-4 text-zinc-400 hover:text-black dark:hover:text-white">
                    <iconify-icon icon="lucide:x" stroke-width="1.5"></iconify-icon>
                </button>

                <div class="text-center mb-6">
                    <div class="inline-block p-3 rounded-xl bg-zinc-100 dark:bg-white/5 mb-4">
                        <iconify-icon icon="lucide:user-check" class="text-2xl text-black dark:text-white" stroke-width="1.5"></iconify-icon>
                    </div>
                    <h3 id="auth-title" class="text-xl font-semibold text-black dark:text-white">Welcome back</h3>
                    <p id="auth-desc" class="text-sm text-zinc-500 mt-1">Enter your details to access your wardrobe.</p>
                </div>

                <form id="auth-form" onsubmit="handleAuth(event)" class="space-y-4">
                    <!-- New Name Field -->
                    <div id="auth-name-field" class="space-y-1 hidden">
                        <label class="text-xs font-medium text-zinc-500">Full Name</label>
                        <input type="text" id="auth-name" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2.5 text-sm focus:ring-1 focus:ring-black dark:focus:ring-white outline-none transition-colors text-black dark:text-white" placeholder="John Doe">
                    </div>

                    <div class="space-y-1">
                        <label class="text-xs font-medium text-zinc-500">Email Address</label>
                        <input type="email" id="auth-email" required class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2.5 text-sm focus:ring-1 focus:ring-black dark:focus:ring-white outline-none transition-colors text-black dark:text-white" placeholder="you@example.com">
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-medium text-zinc-500">Password</label>
                        <input type="password" id="auth-pass" required minlength="6" class="w-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-lg px-3 py-2.5 text-sm focus:ring-1 focus:ring-black dark:focus:ring-white outline-none transition-colors text-black dark:text-white" placeholder="Min 6 characters">
                    </div>
                    
                    <div id="auth-error" class="text-red-500 text-xs text-center hidden"></div>
                    <div id="auth-success" class="text-emerald-500 text-xs text-center hidden"></div>

                    <button type="submit" id="auth-submit-btn" class="w-full bg-black dark:bg-white text-white dark:text-black font-medium py-2.5 rounded-lg hover:opacity-90 transition-opacity mt-2">Log In</button>
                </form>

                <div class="mt-6 text-center">
                    <p class="text-xs text-zinc-500">
                        <span id="auth-footer-text">Don't have an account?</span>
                        <button id="auth-switch-btn" onclick="toggleAuthMode()" class="text-black dark:text-white font-medium hover:underline ml-1">Sign up</button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // === THEME LOGIC ===
        function toggleThemeMenu() {
            document.getElementById('theme-menu').classList.toggle('hidden');
        }

        function setTheme(theme) {
            const html = document.documentElement;
            const icon = document.getElementById('theme-icon');
            
            if (theme === 'system') {
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    html.classList.add('dark');
                } else {
                    html.classList.remove('dark');
                }
                localStorage.removeItem('theme');
            } else if (theme === 'dark') {
                html.classList.add('dark');
                localStorage.theme = 'dark';
            } else {
                html.classList.remove('dark');
                localStorage.theme = 'light';
            }

            if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                icon.setAttribute('icon', 'lucide:moon');
            } else {
                icon.setAttribute('icon', 'lucide:sun');
            }
            
            document.getElementById('theme-menu').classList.add('hidden');
        }

        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            setTheme('dark');
        } else {
            setTheme('light');
        }

        // === MOBILE MENU LOGIC ===
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // === ROUTING LOGIC ===
        function navigateTo(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.add('hidden'));
            const target = document.getElementById('page-' + pageId);
            if(target) target.classList.remove('hidden');
            window.scrollTo(0,0);
        }

        // === AUTH LOGIC (LOCAL STORAGE) ===
        let authMode = 'login'; 
        let users = [];
        
        try {
            const storedUsers = localStorage.getItem('stylo_users');
            if (storedUsers) {
                users = JSON.parse(storedUsers);
                if (!Array.isArray(users)) users = [];
            }
        } catch(e) {
            console.error("Error parsing users:", e);
            users = [];
        }

        let currentUserEmail = localStorage.getItem('stylo_current_user');

        function updateAuthUI() {
            const loggedOut = document.getElementById('auth-logged-out');
            const loggedIn = document.getElementById('auth-logged-in');
            const displayEmail = document.getElementById('user-display-email');
            const displayName = document.getElementById('user-display-name');
            const mobileAuthSection = document.getElementById('mobile-auth-section');

            if (currentUserEmail) {
                // Logged In
                loggedOut.classList.add('hidden');
                // IMPORTANT FIX: Remove md:flex to ensure it hides on desktop
                loggedOut.classList.remove('md:flex'); 
                
                loggedIn.classList.remove('hidden');
                loggedIn.classList.add('flex');
                
                // Hide mobile auth buttons if logged in
                if(mobileAuthSection) mobileAuthSection.classList.add('hidden');
                
                if(displayEmail) displayEmail.textContent = currentUserEmail;
                
                // Find user name
                const user = users.find(u => u.email === currentUserEmail);
                if(displayName) displayName.textContent = user && user.name ? user.name : "User";

            } else {
                // Logged Out
                loggedOut.classList.remove('hidden');
                // IMPORTANT FIX: Add md:flex back so it shows on desktop
                loggedOut.classList.add('md:flex');
                
                loggedIn.classList.add('hidden');
                loggedIn.classList.remove('flex');
                
                // Show mobile auth buttons if logged out
                if(mobileAuthSection) mobileAuthSection.classList.remove('hidden');
            }
        }
        
        updateAuthUI();

        function openAuthModal(mode) {
            authMode = mode;
            const modal = document.getElementById('auth-modal');
            const title = document.getElementById('auth-title');
            const btn = document.getElementById('auth-submit-btn');
            const footerText = document.getElementById('auth-footer-text');
            const switchBtn = document.getElementById('auth-switch-btn');
            const error = document.getElementById('auth-error');
            const success = document.getElementById('auth-success');
            const form = document.getElementById('auth-form');
            const nameField = document.getElementById('auth-name-field');
            const nameInput = document.getElementById('auth-name');

            if(form) form.reset();
            if(error) error.classList.add('hidden');
            if(success) success.classList.add('hidden');
            if(modal) modal.classList.remove('hidden');

            if (mode === 'login') {
                title.textContent = 'Welcome back';
                btn.textContent = 'Log In';
                footerText.textContent = "Don't have an account?";
                switchBtn.textContent = 'Sign up';
                nameField.classList.add('hidden');
                nameInput.removeAttribute('required');
            } else {
                title.textContent = 'Create an account';
                btn.textContent = 'Sign Up';
                footerText.textContent = "Already have an account?";
                switchBtn.textContent = 'Log in';
                nameField.classList.remove('hidden');
                nameInput.setAttribute('required', 'true');
            }
        }

        function closeAuthModal() {
            document.getElementById('auth-modal').classList.add('hidden');
        }

        function toggleAuthMode() {
            openAuthModal(authMode === 'login' ? 'signup' : 'login');
        }

        function handleAuth(e) {
            e.preventDefault();
            const email = document.getElementById('auth-email').value.trim();
            const pass = document.getElementById('auth-pass').value.trim();
            const name = document.getElementById('auth-name').value.trim();
            
            const error = document.getElementById('auth-error');
            const success = document.getElementById('auth-success');
            
            error.classList.add('hidden');
            success.classList.add('hidden');

            if (!email || !pass) {
                error.textContent = 'Please fill in all fields.';
                error.classList.remove('hidden');
                return;
            }

            if (authMode === 'signup') {
                if (!name) {
                    error.textContent = 'Please enter your full name.';
                    error.classList.remove('hidden');
                    return;
                }

                // Check if user already exists
                const exists = users.find(u => u.email === email);
                if (exists) {
                    error.textContent = 'Account already exists. Please log in.';
                    error.classList.remove('hidden');
                    return;
                }

                // Register new user
                users.push({ email, pass, name });
                try {
                    localStorage.setItem('stylo_users', JSON.stringify(users));
                    success.textContent = 'Account created successfully! Switching to login...';
                    success.classList.remove('hidden');
                    
                    // Auto switch to login after short delay
                    setTimeout(() => {
                        authMode = 'login';
                        openAuthModal('login');
                        document.getElementById('auth-email').value = email;
                        document.getElementById('auth-success').textContent = 'Account created! Please log in.';
                        document.getElementById('auth-success').classList.remove('hidden');
                    }, 1000);
                } catch (err) {
                    error.textContent = 'Error saving account. Please try again.';
                    error.classList.remove('hidden');
                }

            } else {
                // Login Logic
                const user = users.find(u => u.email === email && u.pass === pass);
                
                if (user) {
                    currentUserEmail = email;
                    localStorage.setItem('stylo_current_user', email);
                    closeAuthModal();
                    updateAuthUI();
                } else {
                    const emailExists = users.find(u => u.email === email);
                    if(emailExists) {
                        error.textContent = 'Incorrect password.';
                    } else {
                        error.textContent = 'No account found with this email.';
                    }
                    error.classList.remove('hidden');
                }
            }
        }

        function logout() {
            currentUserEmail = null;
            localStorage.removeItem('stylo_current_user');
            updateAuthUI();
            navigateTo('home');
        }


        // === OUTFIT GENERATION LOGIC ===
        let selectedGender = 'male';
        const btnMale = document.getElementById('btn-male');
        const btnFemale = document.getElementById('btn-female');

        function selectGender(gender) {
            selectedGender = gender;
            if (gender === 'male') {
                btnMale.className = "flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all bg-black dark:bg-zinc-800 text-white shadow-sm ring-1 ring-black/5 dark:ring-white/10";
                btnFemale.className = "flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300";
            } else {
                btnFemale.className = "flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all bg-black dark:bg-zinc-800 text-white shadow-sm ring-1 ring-black/5 dark:ring-white/10";
                btnMale.className = "flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300";
            }
        }

        const fileInput = document.getElementById('file-upload');
        const uploadPlaceholder = document.getElementById('upload-placeholder');
        const uploadSuccess = document.getElementById('upload-success');
        const filenameDisplay = document.getElementById('filename');
        const userPreview = document.getElementById('user-preview');
        const emptyState = document.getElementById('empty-state');
        const generateBtn = document.getElementById('generate-btn');
        let fileUploaded = false;

        if (fileInput) {
            fileInput.addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const file = e.target.files[0];
                    const reader = new FileReader();

                    reader.onload = function(e) {
                        userPreview.src = e.target.result;
                        userPreview.classList.remove('hidden');
                        emptyState.classList.add('hidden');
                        
                        uploadPlaceholder.classList.add('hidden');
                        uploadSuccess.classList.remove('hidden');
                        filenameDisplay.textContent = file.name.length > 20 ? file.name.substring(0, 15) + '...' : file.name;
                        
                        fileUploaded = true;
                        generateBtn.removeAttribute('disabled');
                    }
                    reader.readAsDataURL(file);
                }
            });
        }

        function generateOutfit() {
            // 1. Check if user is logged in
            if (!currentUserEmail) {
                openAuthModal('login');
                const authError = document.getElementById('auth-error');
                if(authError) {
                    authError.textContent = "Please log in to generate outfits.";
                    authError.classList.remove('hidden');
                }
                return;
            }

            // 2. Start UI animations
            const loaderOverlay = document.getElementById('loader-overlay');
            const resultContainer = document.getElementById('result-container');
            loaderOverlay.classList.remove('hidden');
            resultContainer.classList.add('hidden');

            // 3. Simulate AI "Think Time"
            setTimeout(() => {
                loaderOverlay.classList.add('hidden');
                resultContainer.classList.remove('hidden');
                
                // This generates a random fashion image for testing
                const randomID = Math.floor(Math.random() * 1000);
                const resultImage = document.getElementById('result-image');
                resultImage.src = `https://picsum.photos/seed/${randomID}/800/1200`;
                
                // Fade in effect
                resultImage.style.opacity = '0';
                setTimeout(() => { resultImage.style.opacity = '1'; }, 100);

            }, 2000);
        }
  let uploadedImageUrl = "";

  // Hook existing file input

  fileInput.addEventListener("change", function () {
    if (!fileInput.files || !fileInput.files[0]) return;

    const file = fileInput.files[0];

    cloudinary.openUploadWidget(
      {
        cloudName: "daru1sfw5",   //  change this
        uploadPreset: "preset", //  change this
        sources: ["local", "camera"],
        multiple: false,
        cropping: false,
        clientAllowedFormats: ["png", "jpg", "jpeg"],
        maxFileSize: 5000000
      },
      function (error, result) {
        if (!error && result && result.event === "success") {
          uploadedImageUrl = result.info.secure_url;

          // Show preview
          const preview = document.getElementById("user-preview");
          preview.src = uploadedImageUrl;
          preview.classList.remove("hidden");

          // Update UI state
          document.getElementById("upload-placeholder").classList.add("hidden");
          document.getElementById("upload-success").classList.remove("hidden");
          document.getElementById("filename").innerText = result.info.original_filename;
        }
      }
    );
  });

  // Hook Generate button
  async function generateOutfit() {
    if (!uploadedImageUrl) {
      alert("Please upload an image first");
      return;
    }

    const occasion = document.getElementById("occasion-select").value;

    document.getElementById("loader-overlay").classList.remove("hidden");

    try {
      const res = await fetch("https://stylopro-ai-backend.onrender.com/tryon", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          imageUrl: uploadedImageUrl,
          occasion: occasion
        })
      });

      const data = await res.json();

      const resultImg = document.getElementById("result-image");
      const container = document.getElementById("result-container");

      resultImg.src = data.result[0];
      container.classList.remove("hidden");

      setTimeout(() => {
        resultImg.style.opacity = "1";
      }, 100);

    } catch (e) {
      alert("AI generation failed");
    } finally {
      document.getElementById("loader-overlay").classList.add("hidden");
    }
  }
    </script>
</body>
</html>




